spring.application.name=BackendCapstoneProject

# Server Configuration - Use PORT environment variable from Azure, default to 8080
server.port=${PORT:8080}

# Database Configuration - Use environment variables for Azure, fallback to localhost for development
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/CapstoneBackendProject}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:CapstoneBackendProject_user}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:aditimysql@11}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# JWT Configuration - Use environment variables for Azure, fallback to defaults
jwt.secret=${JWT_SECRET:404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Logging Configuration
# Basic logging enabled for application (INFO level shows business events)
logging.level.com.aditi.backendcapstoneproject=INFO

# Framework logging set to WARN to reduce noise (only show warnings/errors)
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.web=WARN

# Debug logging (uncomment for detailed debugging - can be verbose)
#logging.level.com.aditi.backendcapstoneproject.service=DEBUG
#logging.level.com.aditi.backendcapstoneproject.exception=DEBUG

# Log file configuration (uncomment for production)
#logging.file.name=logs/application.log
#logging.file.max-size=10MB
#logging.file.max-history=30

# Swagger/OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true

# Stripe Payment Gateway Configuration
# Use environment variables for Azure deployment
stripe.api.secret-key=${STRIPE_API_SECRET_KEY:}
stripe.api.publishable-key=${STRIPE_PUBLISHABLE_KEY:}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:}
stripe.webhook.success-url=${STRIPE_SUCCESS_URL:https://aditirawat.me/payments/stripe/callback?redirect_status=succeeded}
stripe.webhook.cancel-url=${STRIPE_CANCEL_URL:https://aditirawat.me/payments/stripe/callback?redirect_status=canceled}

# Stripe Payment Status Synchronization (CRON Job)
stripe.sync.enabled=${STRIPE_SYNC_ENABLED:true}
stripe.sync.cron=${STRIPE_SYNC_CRON:0 */5 * * * ?}